/**
 * @fileOverview bs_grid is a jQuery datagrid plugin based on Twitter Bootstrap.
 *               <p>License MIT
 *               <br />Copyright Christos Pontikis <a href="http://www.pontikis.net">http://www.pontikis.net</a>
 *               <br />Project page <a href="http://www.pontikis.net/labs/bs_grid/">http://www.pontikis.net/labs/bs_grid/</a>
 *               <br />Minified using Online YUI Compressor http://www.refresh-sf.com/yui/
 * @version 0.9.1 (09 May 2014)
 * @author Christos Pontikis http://www.pontikis.net
 * @requires jquery >= 1.8, twitter bootstrap >= 2, bs_pagination plugin, jQuery UI sortable (optional), jui_filter_rules plugin >= 1.0.4 (optional)
 */
"use strict";(function(h){var j="bs_grid",g="bs_grid_given_options",l="bs_grid_status";var b={init:function(n){var o=this;return this.each(function(){if(typeof o.data(g)==="undefined"){o.data(g,h.extend(true,{},n))}var ah=o.data(j);if(typeof ah==="undefined"){var J="3";if(n.hasOwnProperty("bootstrap_version")&&n.bootstrap_version=="2"){J="2"}var U=b.getDefaults.call(o,J);ah=h.extend({},U,n)}else{ah=h.extend({},ah,n)}o.data(j,ah);if(typeof o.data(l)==="undefined"){o.data(l,{});o.data(l)["selected_ids"]=[];o.data(l)["filter_rules"]=[]}else{if(!ah.row_primary_key){o.data(l)["selected_ids"]=[]}else{switch(ah.rowSelectionMode){case"single":if(o.data(l)["selected_ids"].length>1){o.data(l)["selected_ids"]=[]}break;case false:o.data(l)["selected_ids"]=[];break}}}var O=o.attr("id");o.removeClass().addClass(ah.containerClass);o.unbind("onCellClick").bind("onCellClick",ah.onCellClick);o.unbind("onRowClick").bind("onRowClick",ah.onRowClick);o.unbind("onDatagridError").bind("onDatagridError",ah.onDatagridError);o.unbind("onDebug").bind("onDebug",ah.onDebug);o.unbind("onDisplay").bind("onDisplay",ah.onDisplay);var am=d(ah.tools_id_prefix,O),H=d(ah.columns_list_id_prefix,O),V="",p=d(ah.sorting_list_id_prefix,O),R="",Y=d(ah.sorting_radio_name_prefix,O)+"_",r,y,ab=d(ah.selected_rows_id_prefix,O),ad=d(ah.selection_list_id_prefix,O),B=d(ah.table_container_id_prefix,O),K=d(ah.table_id_prefix,O),w=d(ah.no_results_id_prefix,O),D=d(ah.filter_toggle_id_prefix,O),N=d(ah.custom_html1_id_prefix,O),ai=d(ah.custom_html2_id_prefix,O),al=d(ah.pagination_id_prefix,O),M=d(ah.filter_container_id_prefix,O),T=d(ah.filter_rules_id_prefix,O),G=d(ah.filter_tools_id_prefix,O),P="",u="";P+='<div id="'+am+'" class="'+ah.toolsClass+'"></div>';P+='<div id="'+B+'" class="'+ah.dataTableContainerClass+'">';P+='<table id="'+K+'" class="'+ah.dataTableClass+'"></table>';P+="</div>";P+='<div id="'+w+'" class="'+ah.noResultsClass+'">'+rsc_bs_dg.no_records_found+"</div>";if(ah.customHTMLelementID1){P+='<div id="'+N+'"></div>'}P+='<div id="'+al+'"></div>';if(ah.customHTMLelementID2){P+='<div id="'+ai+'"></div>'}if(ah.useFilters){P+='<div id="'+M+'" class="'+ah.filterContainerClass+'">';P+='<div id="'+T+'"></div>';P+='<div id="'+G+'" class="'+ah.filterToolsClass+'">';P+='<button class="'+ah.filterApplyBtnClass+'">'+rsc_bs_dg.filters_apply+"</button>";P+='<button class="'+ah.filterResetBtnClass+'">'+rsc_bs_dg.filters_reset+"</button>";P+="</div>"}P+="</div>";o.html(P);h("#"+w).hide();var Z=h("#"+am),S=h("#"+K),ac=h("#"+al);u+='<div class="btn-group pull-right">';u+='<button type="button" class="'+ah.columnsListLaunchButtonClass+'" data-toggle="dropdown" title="'+rsc_bs_dg.columns+'">';u+='<span class="'+ah.columnsListLaunchButtonIconClass+'"></span>';u+='<span class="caret"></span>';u+="</button>";u+='<ul id="'+H+'" class="'+ah.columnsListClass+'">';var q,v,F=0;for(var ag in ah.columns){if(e(ah.columns[ag])){continue}F++;q=k(ah.columns[ag]);v=c(ah.columns[ag])?" checked":"";V+='<li><a href="javascript:void(0);"><label class="'+ah.columnsListLabelClass+'"><input type="checkbox" class="'+ah.columnsListCheckClass+'"'+v+"> "+q+"</label></a></li>"}V+='<li class="not-sortable '+ah.columnsListDividerClass+'"></li>';var t=ah.showRowNumbers?" checked":"";V+='<li class="not-sortable columns-li-padding"><label class="'+ah.columnsListLabelClass+'"><input type="checkbox" class="'+ah.columnsListCheckClass+'"'+t+">&nbsp;"+rsc_bs_dg.columns_show_row_numbers+"</label></li>";V+='<li class="not-sortable '+ah.columnsListDividerClass+'"></li>';V+='<li class="not-sortable columns-li-padding"><button class="'+ah.columnsListDefaultButtonClass+'">'+rsc_bs_dg.columns_default+"</button></li>";if(typeof o.data(l)["default_columns_list"]==="undefined"){o.data(l)["default_columns_list"]=V}u+=V;u+="</ul>";u+="</div>";u+='<div class="btn-group pull-right">';u+='<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="'+rsc_bs_dg.sorting+'">';u+='<span class="'+ah.sortingListLaunchButtonIconClass+'"></span>';u+='<span class="caret"></span>';u+="</button>";u+='<ul id="'+p+'" class="dropdown-menu dropdown-menu-right">';for(var ag in ah.sorting){var s=m(ah.sorting[ag]),ae=ah.sorting[ag]["order"]=="ascending"?" checked":"",aj=ah.sorting[ag]["order"]=="descending"?" checked":"",L=ah.sorting[ag]["order"]=="none"?" checked":"";R+='<li><a href="javascript:void(0);"><label class="'+ah.sortingLabelCheckboxClass+'"><input type="radio" name="'+Y+ag+'"'+ae+">"+rsc_bs_dg.sort_ascending+'</label><label class="'+ah.sortingLabelCheckboxClass+'"><input type="radio" name="'+Y+ag+'"'+aj+">"+rsc_bs_dg.sort_descending+'</label><label class="'+ah.sortingLabelCheckboxClass+'"><input type="radio" name="'+Y+ag+'"'+L+">"+rsc_bs_dg.sort_none+'</label><span class="'+ah.sortingNameClass+'">'+s+"</span></a></li>"}R+='<li class="not-sortable '+ah.columnsListDividerClass+'"></li>';R+='<li class="not-sortable columns-li-padding"><button class="'+ah.columnsListDefaultButtonClass+'">'+rsc_bs_dg.sorting_default+"</button></li>";if(typeof o.data(l)["default_sorting_list"]==="undefined"){o.data(l)["default_sorting_list"]=R}u+=R;u+="</ul>";u+="</div>";if(ah.row_primary_key&&(ah.rowSelectionMode=="single"||ah.rowSelectionMode=="multiple")){u+='<div class="btn-group pull-right">';u+='<button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" title="'+rsc_bs_dg.select+'">';u+='<span class="'+ah.selectButtonIconClass+'"></span>';u+='<span id="'+ab+'" class="'+ah.selectedRowsClass+'">'+o.data(l)["selected_ids"].length+"</span>";u+='<span class="caret"></span>';u+="</button>";u+='<ul id="'+ad+'" class="dropdown-menu dropdown-menu-right">';if(ah.rowSelectionMode=="multiple"){u+='<li><a href="javascript:void(0);">'+rsc_bs_dg.select_all_in_page+"</a></li>";u+='<li><a href="javascript:void(0);">'+rsc_bs_dg.deselect_all_in_page+"</a></li>";u+='<li><a href="javascript:void(0);">'+rsc_bs_dg.select_inverse_in_page+"</a></li>";u+='<li class="not-sortable '+ah.columnsListDividerClass+'"></li>'}u+='<li><a href="javascript:void(0);">'+rsc_bs_dg.deselect_all+"</a></li>";u+="</ul>";u+="</div>"}if(ah.useFilters){u+='<button id="'+D+'" class="btn btn-default pull-right" title="'+rsc_bs_dg.filters+'"><span class="'+ah.filterToggleButtonIconClass+'"></span></button>'}Z.html(u);var Q=b.displayGrid.call(o,false);var ak=h("#"+H);ak.click(function(an){an.stopPropagation()});ak.off("click","input[type=checkbox]").on("click","input[type=checkbox]",function(){var an=h(h("#"+H+" li input[type=checkbox]")).index(this);if(an<F){var ao=h("#"+H+" li").not(".not-sortable").find("input[type=checkbox]:checked").length;if(ao==1){h("#"+H+" li input[type=checkbox]:checked:first").slice(0,F).attr("disabled",true)}else{h("#"+H+" li input[type=checkbox]").slice(0,F).removeAttr("disabled")}a(ah.columns[an],h(this).is(":checked"))}else{ah.showRowNumbers=h(this).is(":checked")}b.displayGrid.call(o,false)});if(ah.useSortableLists){if(F>2){ak.sortable({items:"li:not(.not-sortable)",start:function(an,ao){r=ao.item.index()},stop:function(an,ao){y=ao.item.index();if(y!==r){i(ah.columns,r,y);b.displayGrid.call(o,false)}}})}}ak.off("click","li:last button").on("click","li:last button",function(){for(var an in o.data(g)["columns"]){ah.columns[an]=h.extend(true,{},o.data(g)["columns"][an])}var ao=o.data(g)["showRowNumbers"];if(typeof ao==="undefined"){ao=b.getDefaults.call(o,ah.bootstrap_version)["showRowNumbers"]}ah.showRowNumbers=ao;ak.html(o.data(l)["default_columns_list"]);b.displayGrid.call(o,false)});var af=h("#"+p),aa=ah.sorting.length;af.click(function(an){an.stopPropagation()});af.off("click","input[type=radio]").on("click","input[type=radio]",function(){var an=h(h("#"+p+" li input[type=radio]")).index(this),ap=Math.floor(an/3),ao="";switch(an%3){case 0:ao="ascending";break;case 1:ao="descending";break;case 2:ao="none";break}if(ah.sorting[ap]["order"]!=ao){ah.sorting[ap]["order"]=ao;b.displayGrid.call(o,false)}});if(ah.useSortableLists){if(aa>2){af.sortable({items:"li:not(.not-sortable)",start:function(an,ao){r=ao.item.index()},stop:function(an,ao){y=ao.item.index();if(y!==r){i(ah.sorting,r,y);b.displayGrid.call(o,false)}}})}}af.off("click","li:last button").on("click","li:last button",function(){for(var an in o.data(g)["sorting"]){ah.sorting[an]=h.extend(true,{},o.data(g)["sorting"][an])}af.html(o.data(l)["default_sorting_list"]);b.displayGrid.call(o,false)});if(ah.row_primary_key&&(ah.rowSelectionMode=="single"||ah.rowSelectionMode=="multiple")){var x=(K+"_tr_").length;S.off("click","tbody tr").on("click","tbody tr",function(){var ap=parseInt(h(this).attr("id").substr(x)),ao,an=b.selectedRows.call(o,"selected_index",ap);if(an>-1){b.selectedRows.call(o,"remove_id",an);b.selectedRows.call(o,"mark_deselected",ap);ao="deselected"}else{if(ah.rowSelectionMode=="single"){b.selectedRows.call(o,"clear_all_ids");b.selectedRows.call(o,"mark_page_deselected")}b.selectedRows.call(o,"add_id",ap);b.selectedRows.call(o,"mark_selected",ap);ao="selected"}b.selectedRows.call(o,"update_counter");o.triggerHandler("onRowClick",{row_id:ap,row_status:ao})});var X=h("#"+ad);X.off("click","li").on("click","li",function(){var ao=h(this).index();if(ah.rowSelectionMode=="single"){b.selectedRows.call(o,"clear_all_ids");b.selectedRows.call(o,"mark_page_deselected")}else{if(ah.rowSelectionMode=="multiple"){var aq="#"+K+" tbody tr",ar=(K+"_tr_").length,ap,an;switch(ao){case 0:h(aq).each(function(){ap=parseInt(h(this).attr("id").substr(ar));an=b.selectedRows.call(o,"selected_index",ap);if(an==-1){b.selectedRows.call(o,"add_id",ap)}});b.selectedRows.call(o,"mark_page_selected");break;case 1:h(aq).each(function(){ap=parseInt(h(this).attr("id").substr(ar));an=b.selectedRows.call(o,"selected_index",ap);if(an>-1){b.selectedRows.call(o,"remove_id",an)}});b.selectedRows.call(o,"mark_page_deselected");break;case 2:h(aq).each(function(){ap=parseInt(h(this).attr("id").substr(ar));an=b.selectedRows.call(o,"selected_index",ap);if(an>-1){b.selectedRows.call(o,"remove_id",an)}else{b.selectedRows.call(o,"add_id",ap)}});b.selectedRows.call(o,"mark_page_inversed");break;case 4:b.selectedRows.call(o,"clear_all_ids");b.selectedRows.call(o,"mark_page_deselected");break}}}b.selectedRows.call(o,"update_counter")})}S.off("click","tbody tr td").on("click","tbody tr td",function(){var ao=h(this).index();var an=h(this).parent("tr").index();o.triggerHandler("onCellClick",{col:ao,row:an})});S.off("click","thead th").on("click","thead th",function(){var aq=h(this).index(),au=h(this).text();if(ah.showRowNumbers){if(aq==0){return false}else{aq--}}var ax=-1,av="",ao=false;for(var at in ah.columns){if(c(ah.columns[at])){ax++;if(ax==aq){av=ah.columns[at].field;ao=f(ah.columns[at]);break}}}if(!ao){return false}if(av){var ay="",ap;for(var at in ah.sorting){if(ah.sorting[at].field==av){ay=ah.sorting[at].order;break}}switch(ay){case"ascending":ap="descending";break;case"descending":ap="none";break;case"none":ap="ascending";break;default:ap="ascending"}ah.sorting=[{sortingName:au,field:av,order:ap}];var an=ap=="ascending"?" checked":"",ar=ap=="descending"?" checked":"",aw=ap=="none"?" checked":"";var az='<li><a href="javascript:void(0);"><label class="'+ah.sortingLabelCheckboxClass+'"><input type="radio" name="'+Y+'0"'+an+">"+rsc_bs_dg.sort_ascending+'</label><label class="'+ah.sortingLabelCheckboxClass+'"><input type="radio" name="'+Y+'0"'+ar+">"+rsc_bs_dg.sort_descending+'</label><label class="'+ah.sortingLabelCheckboxClass+'"><input type="radio" name="'+Y+'0"'+aw+">"+rsc_bs_dg.sort_none+'</label><span class="'+ah.sortingNameClass+'">'+au+"</span></a></li>";az+='<li class="not-sortable '+ah.columnsListDividerClass+'"></li>';az+='<li class="not-sortable columns-li-padding"><button class="'+ah.columnsListDefaultButtonClass+'">'+rsc_bs_dg.sorting_default+"</button></li>";af.html(az);b.displayGrid.call(o,false)}});h.when(Q).then(function(ap,at,ao){var an=ap.total_rows;var aq=ah.paginationOptions,ar={currentPage:ah.pageNum,rowsPerPage:ah.rowsPerPage,maxRowsPerPage:ah.maxRowsPerPage,totalPages:Math.ceil(an/ah.rowsPerPage),totalRows:an,bootstrap_version:ah.bootstrap_version,onChangePage:function(au,av){ah.pageNum=av.currentPage;ah.rowsPerPage=av.rowsPerPage;b.displayGrid.call(o,false)}};h.extend(aq,ar);ac.bs_pagination(aq);if(ah.customHTMLelementID1){h("#"+N).html(h("#"+ah.customHTMLelementID1).html())}if(ah.customHTMLelementID2){h("#"+ai).html(h("#"+ah.customHTMLelementID2).html())}});if(ah.useFilters){var I=h("#"+D),E=h("#"+M),A=h("#"+T),W=h("#"+G);var z=ah.filterOptions,C={bootstrap_version:ah.bootstrap_version,onValidationError:function(an,ao){o.triggerHandler("onDatagridError",ao)}};z=h.extend({},z,C);A.jui_filter_rules(z);E.hide();Z.off("click","#"+D).on("click","#"+D,function(){if(E.is(":visible")){E.slideUp();if(o.data(l)["filter_rules"].length>0){I.addClass(ah.filterToggleActiveClass)}}else{E.slideDown();I.removeClass(ah.filterToggleActiveClass)}});W.off("click","button").on("click","button",function(){var an=h(this).index(),ao=A.jui_filter_rules("getRules",0,[]);if(ao==false){return false}switch(an){case 0:o.data(l)["filter_rules"]=ao;o.data(l)["selected_ids"]=[];break;case 1:A.jui_filter_rules("clearAllRules");o.data(l)["filter_rules"]=[];break}ah.pageNum=1;b.displayGrid.call(o,true)})}})},getVersion:function(){return"0.9.1"},getDefaults:function(o){var n={pageNum:1,rowsPerPage:10,maxRowsPerPage:100,row_primary_key:"",rowSelectionMode:"single",columns:[],sorting:[],paginationOptions:{containerClass:"well pagination-container",visiblePageLinks:5,showGoToPage:true,showRowsPerPage:true,showRowsInfo:true,showRowsDefaultInfo:true,disableTextSelectionInNavPane:true},filterOptions:{filters:[]},useFilters:true,showRowNumbers:false,showSortingIndicator:true,useSortableLists:true,customHTMLelementID1:"",customHTMLelementID2:"",bootstrap_version:"3",containerClass:"grid_container",noResultsClass:"alert alert-warning no-records-found",toolsClass:"tools",columnsListLaunchButtonClass:"btn btn-default dropdown-toggle",columnsListLaunchButtonIconClass:"glyphicon glyphicon-th",columnsListClass:"dropdown-menu dropdown-menu-right",columnsListLabelClass:"columns-label",columnsListCheckClass:"col-checkbox",columnsListDividerClass:"divider",columnsListDefaultButtonClass:"btn btn-primary btn-xs btn-block",sortingListLaunchButtonIconClass:"glyphicon glyphicon-sort",sortingLabelCheckboxClass:"radio-inline",sortingNameClass:"sorting-name",selectButtonIconClass:"glyphicon  glyphicon-check",selectedRowsClass:"selected-rows",filterToggleButtonIconClass:"glyphicon glyphicon-filter",filterToggleActiveClass:"btn-info",sortingIndicatorAscClass:"glyphicon glyphicon-chevron-up text-muted",sortingIndicatorDescClass:"glyphicon glyphicon-chevron-down text-muted",dataTableContainerClass:"table-responsive",dataTableClass:"table table-bordered table-hover",commonThClass:"th-common",selectedTrClass:"warning",filterContainerClass:"well filters-container",filterToolsClass:"",filterApplyBtnClass:"btn btn-primary btn-sm filters-button",filterResetBtnClass:"btn btn-default btn-sm filters-button",tools_id_prefix:"tools_",columns_list_id_prefix:"columns_list_",sorting_list_id_prefix:"sorting_list_",sorting_radio_name_prefix:"sort_radio_",selected_rows_id_prefix:"selected_rows_",selection_list_id_prefix:"selection_list_",filter_toggle_id_prefix:"filter_toggle_",table_container_id_prefix:"tbl_container_",table_id_prefix:"tbl_",no_results_id_prefix:"no_res_",custom_html1_id_prefix:"custom1_",custom_html2_id_prefix:"custom2_",pagination_id_prefix:"pag_",filter_container_id_prefix:"flt_container_",filter_rules_id_prefix:"flt_rules_",filter_tools_id_prefix:"flt_tools_",debug_mode:"no",onCellClick:function(){},onRowClick:function(){},onDatagridError:function(){},onDebug:function(){},onDisplay:function(){}};if(o=="2"){n.bootstrap_version="2";n.columnsListLaunchButtonIconClass="icon-th";n.sortingListLaunchButtonIconClass="icon-resize-vertical";n.sortingLabelCheckboxClass="radio inline";n.selectButtonIconClass="icon-check";n.filterToggleButtonIconClass="icon-filter";n.filterToggleActiveClass="btn-info";n.sortingIndicatorAscClass="icon-chevron-up muted";n.sortingIndicatorDescClass="icon-chevron-down muted";n.dataTableContainerClass="table-responsive";n.dataTableClass="table table-bordered table-hover";n.filterApplyBtnClass="btn btn-primary filters-button ";n.filterResetBtnClass="btn btn-default filters-button"}return n},getOption:function(n){var o=this;return o.data(j)[n]},getAllOptions:function(){var n=this;return n.data(j)},destroy:function(){var p=this,q=p.attr("id"),n=d(b.getOption.call(p,"pagination_id_prefix"),q),o=d(b.getOption.call(p,"filter_rules_id_prefix"),q);h("#"+n).removeData();h("#"+o).removeData();p.removeData()},selectedRows:function(r,n){var p=this,s=p.attr("id"),v=d(b.getOption.call(p,"table_id_prefix"),s),q=b.getOption.call(p,"selectedTrClass"),o="#"+v+" tbody tr",u="#"+v+"_tr_";switch(r){case"get_ids":return p.data(l)["selected_ids"];break;case"clear_all_ids":p.data(l)["selected_ids"]=[];break;case"update_counter":var t=d(b.getOption.call(p,"selected_rows_id_prefix"),s);h("#"+t).text(p.data(l)["selected_ids"].length);break;case"selected_index":return h.inArray(n,p.data(l)["selected_ids"]);break;case"add_id":p.data(l)["selected_ids"].push(n);break;case"remove_id":p.data(l)["selected_ids"].splice(n,1);break;case"mark_selected":h(u+n).addClass(q);break;case"mark_deselected":h(u+n).removeClass(q);break;case"mark_page_selected":h(o).addClass(q);break;case"mark_page_deselected":h(o).removeClass(q);break;case"mark_page_inversed":h(o).toggleClass(q);break}},setPageColClass:function(q,o,s){var p=this,r=p.attr("id"),n="#"+d(b.getOption.call(p,"table_id_prefix"),r);if(o!==""){h(n+" th").eq(q).addClass(o)}if(s!==""){h(n+" tr").each(function(){h(this).find("td").eq(q).addClass(s)})}},removePageColClass:function(q,o,s){var p=this,r=p.attr("id"),n="#"+d(b.getOption.call(p,"table_id_prefix"),r);h(n+" th").eq(q).removeClass(o);h(n+" tr").each(function(){h(this).find("td").eq(q).removeClass(s)})},displayGrid:function(x){var q=this,t=q.attr("id"),A=b.getAllOptions.call(q),z=d(A.table_id_prefix,t),u=h("#"+z),n=d(A.no_results_id_prefix,t),y=h("#"+n),p=d(A.filter_rules_id_prefix,t),v=d(A.pagination_id_prefix,t),o=h("#"+v),r;var w=h.ajax({type:"POST",url:A.ajaxFetchDataURL,data:{page_num:A.pageNum,rows_per_page:A.rowsPerPage,columns:A.columns,sorting:A.sorting,filter_rules:q.data(l)["filter_rules"],debug_mode:A.debug_mode},dataType:"json",success:function(ad){var O,V,Q,K,W,X,T,B=A.columns,I=B.length,D,ab;O=ad.error;if(O!=null){r="ERROR: "+O;q.html('<span style="color: red;">'+r+"</span>");q.triggerHandler("onDatagridError",{err_code:"server_error",err_description:O});h.error(r)}if(A.useFilters){var s=h("#"+p);V=ad.filter_error;if(V.error_message!=null){s.jui_filter_rules("markRuleAsError",V.element_rule_id,true);s.triggerHandler("onValidationError",{err_code:"filter_validation_server_error",err_description:V.error_message});h.error(V.error_message)}}K=ad.total_rows;W=ad.page_data;X=W.length;q.data(l)["total_rows"]=K;Q=A.row_primary_key;if(A.debug_mode=="yes"){q.triggerHandler("onDebug",{debug_message:ad.debug_message})}if(X>0){for(T=0;T<X;T++){for(ab=0;ab<I;ab++){D=B[ab];if(c(D)){if(W[T][D.field]==null){W[T][D.field]=""}}}}}var aa=parseInt(A.pageNum),N=parseInt(A.rowsPerPage),H,ac,Y,J,M,S,G=((aa-1)*N);M="<thead>";ac=(Q?' id="'+z+'_tr_0"':"");M+="<tr"+ac+">";if(A.showRowNumbers){M+='<th class="'+A.commonThClass+'">'+rsc_bs_dg.row_index_header+"</th>"}for(Y in A.columns){if(c(A.columns[Y])){H="";if(A.showSortingIndicator){var C="none";for(var Z in A.sorting){if(A.sorting[Z].field==A.columns[Y].field){C=A.sorting[Z].order;break}}switch(C){case"ascending":H='&nbsp;<span class="'+A.sortingIndicatorAscClass+'"></span>';break;case"descending":H='&nbsp;<span class="'+A.sortingIndicatorDescClass+'"></span>';break;default:H=""}}M+='<th class="'+A.commonThClass+'">'+A.columns[Y].header+H+"</th>"}}M+="</tr>";M+="</thead>";M+="<tbody>";for(J in W){ac=(Q?' id="'+z+"_tr_"+W[J][Q]+'"':"");M+="<tr"+ac+">";if(A.showRowNumbers){S=G+parseInt(J)+1;M+="<td>"+S+"</td>"}for(Y in A.columns){if(c(A.columns[Y])){M+="<td>"+W[J][A.columns[Y].field]+"</td>"}}M+="</tr>"}M+="<tbody>";u.html(M);if(x){o.bs_pagination({currentPage:A.pageNum,totalPages:Math.ceil(K/A.rowsPerPage),totalRows:K})}if(K==0){o.hide();y.show()}else{o.show();y.hide()}var R=A.showRowNumbers?1:0,F="",E="";for(Y in A.columns){if(c(A.columns[Y])){F="",E="";if(B[Y].hasOwnProperty("headerClass")){F=B[Y]["headerClass"]}if(B[Y].hasOwnProperty("dataClass")){E=B[Y]["dataClass"]}b.setPageColClass.call(q,R,F,E);R++}}if(A.row_primary_key&&q.data(l)["selected_ids"].length>0){if(A.rowSelectionMode=="single"||A.rowSelectionMode=="multiple"){var P=(z+"_tr_").length,L,U;h("#"+z+" tbody tr").each(function(){L=parseInt(h(this).attr("id").substr(P));U=b.selectedRows.call(q,"selected_index",L);if(U>-1){b.selectedRows.call(q,"mark_selected",L)}})}}b.selectedRows.call(q,"update_counter");q.triggerHandler("onDisplay")}});return w}};var d=function(o,n){return o+n};var c=function(n){var o="visible";return !n.hasOwnProperty(o)||(n.hasOwnProperty(o)&&n[o]=="yes")};var a=function(o,n){var p="visible";if(n){if(o.hasOwnProperty(p)){delete o[p]}}else{o[p]="no"}};var k=function(n){return n.hasOwnProperty("header")?n.header:n.field};var m=function(n){return n.hasOwnProperty("sortingName")?n.sortingName:n.field};var f=function(n){return !n.hasOwnProperty("sortable")||(n.hasOwnProperty("sortable")&&n.sortable=="yes")};var e=function(o){var n="is_function";return o.hasOwnProperty(n)&&o[n]=="yes"};var i=function(n,p,q){var o=n[p];n.splice(p,1);n.splice(q,0,o)};h.fn.bs_grid=function(o){if(this.size()!=1){var n="You must use this plugin ("+j+") with a unique element (at once)";this.html('<span style="color: red;">ERROR: '+n+"</span>");h.error(n)}if(b[o]){return b[o].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof o==="object"||!o){return b.init.apply(this,arguments)}else{h.error("Method "+o+" does not exist on jQuery."+j)}}}})(jQuery);